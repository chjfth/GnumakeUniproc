[2011-06-10]

How to generate the NSIS installer package for GnumakeUniproc/

Two ways:

=== The Simple Way (for nlscan staff) ===

Just run export-at-office.bat, then you have everything exported into a directory called nsis-data.

NSIS-Compile GMU-nsis.nsi using large string(8192 bytes) version of makensis.exe. The standard 1024-byte version will not suffice the custom page `StoreEnvVar'.


=== The Verbose Way (for Internet users) ===

Step 1: 

Run export-gmu.bat to export everything need to pack into an NSIS installer package.
e.g.
	export-gmu.bat https://gnumakeuniproc.svn.sourceforge.net/svnroot/gnumakeuniproc
GMU core files will be  exported to subdir nsis-data .

Step 2:

Prepare Windows binary tools in two specific directories.
* Prepare MinGW in nsis-data/MinGW2, e.g. there should be nsis-data/MinGW2/bin/gcc.exe .
* Prepare all GnumakeUniproc-specific Windows executables in nsis-data/bin-gmu, e.g. there
	should be nsis-data/bin-gmu/umakeD.bat .
* Prepare all GnumakeUniproc-specific Windows executables in nsis-data/bin-gmu-addon, e.g. there
	should be nsis-data/bin-gmu-addon/date_.exe .
And note: 
	All contents in above-mentioned bin* dir will be merged into destination's MinGW2/bin .

Well, I know it may be hard to prepare files for Step 2, then just stop here. Copy the exported files from Step 1 to a pre-installed GMU release and play with them.

Step 3:
	NSIS-Compile GMU-nsis.nsi using large string(8192 bytes) version of makensis.exe. The standard 1024-byte version will not suffice the custom page `StoreEnvVar'.

