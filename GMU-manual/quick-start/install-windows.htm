<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="STYLESHEET" type="text/css" href="chj.css">
<link rel="STYLESHEET" type="text/css" href="../chj.css">
<title>Installation for Windows User</title>
</head>

<body>
<H1 align="center">Installation for Windows User</H1>
<ul>
  <li><a href="#SoftwarePrerequisite">Software Prerequisite</a></li>
  <ul>
	  <li><a href="#GnumakeUniprocitself">GnumakeUniproc itself</a></li>
	  <li><a href="#GnumakeUniprocdepends">Software that GnumakeUniproc depends</a></li>
  </ul>
  <li><a href="#EnvVarSetup">Environment variable(env-var) setup</a></li>
  <ul>
    <li><a href="#CheckEnvOk">Check whether environment is setup OK</a></li>
  </ul>
</ul>
<p>Note: The following procedure has been tested on Windows 2000/XP, while Windows 98 is dropped, and Windows Vista/7 is not supported yet. </p>
<H2><a name="SoftwarePrerequisite"></a>Software Prerequisite</H2>
<h3><a name="GnumakeUniprocitself"></a>GnumakeUniproc itself</h3>
<p>GnumakeUniproc itself can be placed anywhere, and a special environment variable will tell where it resides(<a href="#GnumakeUniprocresides">described later</a>). You probably have run the NSIS installer for GnumakeUniproc and let's assume that you've installed it to directory <tt>D:\GMU</tt> .</p>
<h3><a name="GnumakeUniprocdepends"></a>Software that GnumakeUniproc depends </h3>
<p>The installer for GnumakeUniproc contains the following software:</p>

<ul>
  <li>GNUmake 3.82 built natively(using Visual C++ .NET, SP1) for Windows.</li>
  <li>MinGW gcc compiler 3.2 . The main purpose for using gcc is to generate header file dependency(by <tt>gcc -M</tt>), even if you don't really use gcc to compile your program. </li>
  <li>A special version of sh.exe that acts as the Bourne Shell on Windows. The source file is derived from winbash 0.6, and is updated by GnumakeUniproc's author(add some missing functionality) so that it can work with GnumakeUniproc on Windows. Ssource files of this <tt>sh.exe</tt> can be found in win-bash folder of GnumakeUniproc distribution package. </li>
  <li> Some unix file manipulating utilities such as mkdir, cp, rm, mv, cat etc. These programs was acquired from <a href="http|//gnuwin32.sourceforge.net">gnuwin32.sourceforge.net</a> . </li>
  <li>Some EXE programs provided and required by GnumakeUniproc itself, these programs's source code(C programs) can be found in GnumakeUniproc's source tree. These EXE's name has the form gmu<i>XXX</i>.</li>
</ul>
<h2><a name="EnvVarSetup"></a>Environment variable(env-var) setup </h2>
<p>GnumakeUniproc needs some env-vars to work properly. The installer will prepare these env-vars for you. </p>
<p>In a certain step of the installer, you see</p>
<p><img src="nsis-gmuenv.gif" />
</p>
<p>On this page, the installer tells you can some env-vars will be prepared for you, e.g., </p>
<pre class="fws">
gmu_DIR_ROOT=D:/GMU
gmu_DIR_GNUMAKEUNIPROC=D:/GMU/GMU-main/GnumakeUniproc</pre>
<p class="chj-mark-red">Yes, the directory component separator here is forward slash(<code>/</code>) instead of backslash(<code>\</code>).  This convention applies to all environment variable values recognized by GnumakeUniproc and all variable values used in a makefile. It's true even if you really work on a Windows platform. </p>
<p><b>Windows registry</b> checkbox: If checked, installer will set these env-vars into your registry, so that you have them immediately after you logon to Windows desktop. </p>
<p>Whether you should check it or not?</p>
<ul>
				<li>If you have your own gcc compiler(gcc.exe etc) on your Windows box, don't check it -- because the gcc.exe provided by GnumakeUniproc installer may conflict with yours in PATH env-var.</li>
                <li>otherwise, leave it checked. </li>
</ul>
<p><b>gmuenv.bat</b> checkbox: Always have it checked. Purpose of this .bat: In case you don't check <b>Windows registry</b> above, there will be nothing regarding GnumakeUniproc added to your environment setting, so you will not be able to use GnumakeUniproc just by opening a Command Prompt. To make the environment ready, you should call <tt>D:\GMU\gmuenv.bat</tt> to set it up. </p>
<p>What about I changed my mind later? No problem, just run the install again, tick your right decision. </p>
<h3><a name="CheckEnvOk"></a>Check whether environment is setup OK</h3>
<p>GnumakeUniproc runs from a command line environment, and the environment requirement means properly setting some <code>gmu_</code> &amp; <code>gmp_</code> environment variables. so open an Command Prompt window to get ready using GnumakeUniproc.</p>
<p>If you run the installer and opt to store the env-vars in Windows registry, then they should have been set up for you after you open a  Command Prompt window from Windows Start Menu. Otherwise, you have to manually execute <tt>D:\GMU\gmuenv.bat</tt> to set it up. </p>
<p>To confirm , type </p>
<pre class="fws">set gmu </pre>
<p>If its output contains lines like</p>
<pre class="fws">
gmu_DIR_ROOT=D:/GMU
gmu_DIR_GNUMAKEUNIPROC=D:/GMU/GMU-main/GnumakeUniproc
gmu_LOG_OUTPUT_FILENAME=_gmulog.txt</pre>
<p>then it's ready.</p>
<p>Now, you can go on building our first example. </p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</body>

</html>
